# Базовый слой
FROM node:13 as build

# Копируем всё что нужно из локальной папки в образ
COPY . .

# Устанавливаем зависимости, в образе появится /node_modules
RUN npm ci --production # npm install

# При старте контейнер начнёт общаться через 80 порт
EXPOSE 8000

# При старте контейнер выполнит эту команду – запустит наше приложение
CMD npm run start 